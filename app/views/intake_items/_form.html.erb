<%= form_with(model: [@intake, intake_item], local: true) do |f| %>
  <div class="mb-6">
    <%= f.label :name, "項目名", class: "block text-gray-700 font-bold mb-2" %>
    <%= f.text_field :name, placeholder: "聞き出したい項目の名前", class: "shadow-sm appearance-none border bg-white #{'border-red-500' if intake_item.errors[:name].any?} rounded-sm w-full py-2 px-3 text-gray-700 leading-tight focus:outline-hidden focus:shadow-outline" %>
    <% if intake_item.errors[:name].any? %>
      <p class="text-red-500 text-xs italic mt-1"><%= intake_item.errors[:name].join(", ") %></p>
    <% end %>
  </div>

  <div class="mb-6">
    <%= f.label :description, "LLMへの指示", class: "block text-gray-700 font-bold mb-2" %>
    <%= f.text_area :description, placeholder: "この項目についてどのように聞き出すか（任意）", rows: 4, class: "shadow-sm appearance-none border bg-white #{'border-red-500' if intake_item.errors[:description].any?} rounded-sm w-full py-2 px-3 text-gray-700 leading-tight focus:outline-hidden focus:shadow-outline" %>
    <p class="text-gray-500 text-xs mt-1">例: 「1から10のスケールで聞いてください」「具体的なエピソードを引き出してください」</p>
    <% if intake_item.errors[:description].any? %>
      <p class="text-red-500 text-xs italic mt-1"><%= intake_item.errors[:description].join(", ") %></p>
    <% end %>
  </div>

  <div class="flex items-center justify-between">
    <%= link_to "戻る", @intake, class: "text-gray-600 hover:text-gray-800" %>
    <%= f.submit submit_text, class: "bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-sm focus:outline-hidden focus:shadow-outline cursor-pointer" %>
  </div>
<% end %>
